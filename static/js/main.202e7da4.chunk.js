(window.webpackJsonpMiner=window.webpackJsonpMiner||[]).push([[0],{151:function(e,t,a){e.exports=a(238)},229:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);a(152),a(178),a(180),a(181),a(183),a(184),a(185),a(186),a(187),a(188),a(189),a(190),a(192),a(193),a(194),a(195),a(196),a(197),a(198),a(199),a(200),a(201),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220);var n=a(0),i=a.n(n),s=a(35),r=a.n(s),o=a(25),l=a.n(o),c=a(79),d=a(80),m=a(94),p=a(81),u=a(36),h=a(95),b=(a(228),a(229),a(82)),f=a.n(b),g=a(17),v=a(92),C=a.n(v),E=a(93),x=a.n(E),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={activePanel:"main",mainContextOpened:!1,popout:i.a.createElement(g.k,null),user:{first_name:"",last_name:"",photo_100:""},end:0,cardsMap:[],cards:null,maxCards:30,gold:"https://i.ibb.co/kHKsYbz/gold.png",emerald:"https://i.ibb.co/6bpJt6Y/emerald.png",iron:"https://i.ibb.co/KLs7Pjb/iron.png",cobblestone:"https://i.ibb.co/mvvLWTF/cobblestone.png"},a.componentDidMount=a.componentDidMount.bind(Object(u.a)(a)),a.initializeApp=a.initializeApp.bind(Object(u.a)(a)),a.setCards=a.setCards.bind(Object(u.a)(a)),a.toggleMainContext=a.toggleMainContext.bind(Object(u.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.init({tool:["console"]}),l.a.subscribe((function(t){var a=t.detail,n=a.type,i=a.data;if(console.log(n,i),"VKWebAppUpdateConfig"===n){var s=document.createAttribute("scheme");s.value=i.scheme?i.scheme:"client_light",document.body.attributes.setNamedItem(s)}else"VKWebAppGetUserInfoResult"===n&&(e.setState({popout:null,user:i}),e.initializeApp())})),l.a.send("VKWebAppGetUserInfo")}},{key:"initializeApp",value:function(){var e=this;this.setCards(),setInterval((function(){if("mine"===e.state.activePanel){var t=e.state.end-1;e.setState({end:t}),t<0&&e.setCards()}}),1e3)}},{key:"randInt",value:function(e,t){return Math.floor(Math.random()*Math.floor(t+1))+e}},{key:"setCards",value:function(){var e=this;this.setState({end:5});for(var t=[],a=0;a<this.state.maxCards;a++)t.push(a);this.setState({cardsMap:t});var n=[],s=this.state,r=s.cobblestone,o=s.iron,l=s.emerald,c=s.gold;for(a=1;a<=this.state.maxCards;a++){var d=this.randInt(0,1),m=a%this.randInt(a,this.state.maxCards-a)===0?0===d?c:l:0===d?r:o,p=i.a.createElement("div",{className:"card",id:"card_"+(a-1)+"_"+m,onClick:function(t){var a=e.state.cards;a[t.currentTarget.id.split("_")[1]]=i.a.createElement("div",{className:"card"}),e.setState({cards:a})},style:{width:50,height:50}},i.a.createElement("div",{className:"card_content"}," ",i.a.createElement("img",{src:m,style:{height:"80%"}})));n.push(p)}this.setState({cards:n})}},{key:"toggleMainContext",value:function(){this.setState({mainContextOpened:!this.state.mainContextOpened})}},{key:"render",value:function(){return i.a.createElement(g.l,{activePanel:this.state.activePanel,popout:this.state.popout},i.a.createElement(g.f,{id:"main"},i.a.createElement(g.j,null,i.a.createElement(g.h,{aside:i.a.createElement(x.a,{style:{transform:"rotate(".concat(this.state.mainContextOpened?"180deg":"0",")")}}),before:i.a.createElement(g.a,{size:36,src:this.state.user.photo_100}),onClick:this.toggleMainContext()},this.state.user.first_name+" "+this.state.last_name)),i.a.createElement(g.i,{opened:this.state.mainContextOpened,onClose:this.toggleMainContext},i.a.createElement(g.e,null,i.a.createElement(g.b,{before:i.a.createElement(C.a,null),onClick:this.toggleMainContext},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0438\u043a")))),i.a.createElement(g.f,{id:"mine"},i.a.createElement(g.g,null,"\u0428\u0430\u0445\u0442\u0430"),i.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement("div",{className:"grid"},this.state.cards)),i.a.createElement(g.c,null,i.a.createElement(g.d,null,"\u0414\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438: ",this.state.end))))}}]),t}(i.a.Component);l.a.send("VKWebAppInit"),r.a.render(i.a.createElement(M,null),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.202e7da4.chunk.js.map